<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<?php
$servername = "localhost";
$username = "root";
$password = "";
$dbname = "myDBPDO";


// ایجاد اتصال به دیتابیس
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    // تنظیم خطاهای PDO برای پرتاب شدن خطا
    $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$username2=$_POST['username'];
$Password2=$_POST['password'];
$sql="INSERT INTO `users`(`username`, `password`) VALUES ('$username2','$Password2')";
if($conn->query($sql)==true){
echo "اطلاعات با موفقت ذخیره شد";
}
else{
echo "اطلاعات با موفقت ذخیره نشد";
}
// ایجاد جدول با سه فیلد


} catch(PDOException $e) {
echo "اتصال به دیتابیس ناموفق بود: " . $e->getMessage();
}

// بستن اتصال به دیتابیس
$conn = null;
/*function insertInfPer()
{
$arr = array(($_POST['username']), ($_POST['password']));
$sql = "INSERT INTO `users`(`username`, `password`) VALUES (?,?)";
$sql=$GLOBALS['conn']->prepare($sql);
$sql->execute($arr);
}*/
?>
</body>
</html>